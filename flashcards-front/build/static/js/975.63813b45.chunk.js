"use strict";(self.webpackChunkflashcards_front=self.webpackChunkflashcards_front||[]).push([[975],{170:(s,e,a)=>{a.d(e,{A:()=>l});var c=a(43),t=a(900);const l=s=>{let{children:e}=s;const a=(0,t.Zp)();return(0,c.useEffect)((()=>{localStorage.getItem("jwtToken")&&a("/library")}),[a]),e}},975:(s,e,a)=>{a.r(e),a.d(e,{default:()=>_});var c=a(43),t=a(872),l=a(854),n=a(900),i=a(579);function r(s){let{id:e,title:a,author:c,count:t,isPublic:l,onDelete:r}=s;const d=(0,n.Zp)();return(0,i.jsxs)("div",{className:"cardsset",children:[(0,i.jsx)("div",{className:"cardsset__icon",children:(0,i.jsx)("img",{src:"/img/cardsSet.svg",alt:"",className:"cardsset_icon__img"})}),(0,i.jsxs)("div",{className:"cardsset__content",children:[(0,i.jsxs)("div",{className:"cardsset__title__wrapper",children:[(0,i.jsx)("button",{className:"cardsset__content__title",onClick:()=>d(`/learn/${e}`),children:a}),l&&(0,i.jsx)("button",{className:"cardsset__btn",id:"link-btn",onClick:()=>{const s=`${window.location.origin}/shared/${e}`;navigator.clipboard.writeText(s).then((()=>{alert("\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043d\u0430\u0431\u043e\u0440 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430")})).catch((s=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:",s),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443")}))},children:(0,i.jsx)("img",{src:"/img/link1.svg",alt:""})})]}),(0,i.jsxs)("div",{className:"cardsset__row",children:[(0,i.jsxs)("div",{className:"cardsset__row__item",children:["\u041a\u043e\u043b-\u0432\u043e \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a: ",t]}),(0,i.jsxs)("div",{className:"cardsset__row__item",children:["\u0410\u0432\u0442\u043e\u0440: ",c]})]})]}),(0,i.jsxs)("div",{className:"cardsset__column",children:[(0,i.jsx)("button",{className:"cardsset__btn",id:"delete-btn",onClick:()=>r(e),children:(0,i.jsx)("img",{src:"/img/deleteCard.svg",alt:"",className:"cardsset__img"})}),(0,i.jsx)("button",{className:"cardsset__btn",id:"edit-btn",onClick:()=>d(`/edit/${e}`),children:(0,i.jsx)("img",{src:"/img/edit.svg",alt:"",className:"cardsset__img"})})]})]})}a(170);var d=a(491);function o(s){let{message:e,onConfirm:a,onCancel:c}=s;return(0,i.jsx)("div",{className:"confirmmodal",children:(0,i.jsxs)("div",{className:"modal",children:[(0,i.jsx)("div",{className:"modal__msg",children:e}),(0,i.jsxs)("div",{className:"modal__buttons",children:[(0,i.jsx)("button",{className:"modal__confirm",onClick:a,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),(0,i.jsx)("button",{className:"modal__cancel",onClick:c,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})}function _(){const[s,e]=(0,c.useState)([]),[a,n]=(0,c.useState)(null);(0,c.useEffect)((()=>{(async()=>{try{const s=await(0,d.OX)();e(s)}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0431\u043e\u0440\u043e\u0432",s)}})()}),[]);const _=s=>{n(s)};return(0,i.jsxs)("div",{className:"library",children:[(0,i.jsx)(t.A,{}),(0,i.jsxs)("div",{className:"library__content",children:[(0,i.jsx)(l.A,{}),(0,i.jsxs)("div",{className:"library__content__main",children:[(0,i.jsx)("div",{className:"library__title",children:"\u041c\u043e\u0438 \u043d\u0430\u0431\u043e\u0440\u044b"}),0===s.length?(0,i.jsx)("div",{children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0430\u0431\u043e\u0440\u043e\u0432"}):s.map((s=>(0,i.jsx)(r,{id:s.id,title:s.title,author:s.author_name,count:s.cards_count,isPublic:s.is_public,onDelete:_},s.id))),null!==a&&(0,i.jsx)(o,{message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0431\u043e\u0440?",onConfirm:async()=>{try{await(0,d.HC)(a),e((s=>s.filter((s=>s.id!==a)))),n(null)}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0431\u043e\u0440\u0430:",s),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0431\u043e\u0440.")}},onCancel:()=>{n(null)}})]})]})]})}}}]);
//# sourceMappingURL=975.63813b45.chunk.js.map